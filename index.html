<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal Atlas | Motor APOLO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f4f4f0; } 
        .font-classic { font-family: 'Cinzel', serif; }
        .gold-accent { color: #b8973d; }
        
        /* Glassmorphism Apple */
        .glass-panel { 
            background: rgba(255, 255, 255, 0.7); 
            backdrop-filter: blur(25px); 
            border: 1px solid rgba(255, 255, 255, 0.5); 
        }
        
        .sidebar-dark {
            background: #1a1a1a;
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Estilo para los Dropdowns corregido */
        select.custom-select {
            color: #ffffff !important; /* Letra blanca */
            background-color: rgba(255, 255, 255, 0.08) !important; /* Gris sutil translúcido */
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        select.custom-select option {
            background-color: #1a1a1a; /* Fondo sólido para que se lea al abrir */
            color: #ffffff;
        }

        .btn-inactive { background-color: #e5e5e0 !important; color: #a1a19a !important; cursor: not-allowed; }
        
        #mensajes::-webkit-scrollbar { width: 4px; }
        #mensajes::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
    </style>
</head>
<body class="min-h-screen flex flex-col overflow-x-hidden">

    <nav class="fixed w-full h-28 flex justify-between items-center px-16 z-50 bg-white/40 backdrop-blur-md border-b border-stone-200">
        <div class="flex items-center space-x-6">
            <i class="fas fa-landmark text-3xl text-stone-800"></i>
            <div class="flex flex-col">
                <span class="font-classic text-2xl font-bold tracking-[0.3em] text-stone-900">LEGAL<span class="text-stone-500">ATLAS</span></span>
                <span class="text-[9px] uppercase tracking-[0.5em] text-stone-400 font-bold">Infrastructure Unit</span>
            </div>
        </div>
        <div>
            <button class="bg-stone-900 text-white px-9 py-4 rounded-full text-[11px] font-bold uppercase tracking-[0.2em] flex items-center shadow-2xl hover:bg-stone-800 transition-all duration-500 group">
                <i class="fas fa-user-tie mr-3 gold-accent group-hover:rotate-12 transition-transform"></i> Directorio de Abogados
            </button>
        </div>
    </nav>

    <main class="flex-1 flex items-center justify-center pt-40 pb-20 px-10 relative">
        <div class="max-w-7xl w-full z-10">
            <div class="glass-panel rounded-[50px] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.08)] overflow-hidden flex flex-col md:flex-row min-h-[850px]">
                
                <div class="w-full md:w-[400px] p-16 sidebar-dark text-white flex flex-col justify-between">
                    <div>
                        <div class="mb-16">
                            <h2 class="font-classic text-3xl gold-accent mb-3">Motor APOLO</h2>
                            <p class="text-[10px] uppercase tracking-[0.3em] text-stone-500 font-light">Cómputo Normativo IA</p>
                        </div>

                        <div class="space-y-12"> <div class="space-y-4">
                                <label class="text-[10px] uppercase tracking-[0.2em] text-stone-500 font-bold ml-1">País</label>
                                <select id="pais" class="custom-select w-full p-5 rounded-2xl text-xs font-medium outline-none focus:border-stone-500 transition-all cursor-pointer">
                                    <option value="">SELECCIONAR...</option>
                                    <option value="mexico">MÉXICO</option>
                                    <option value="uruguay">URUGUAY</option>
                                </select>
                            </div>
                            <div class="space-y-4">
                                <label class="text-[10px] uppercase tracking-[0.2em] text-stone-500 font-bold ml-1">Estado</label>
                                <select id="estado" class="custom-select w-full p-5 rounded-2xl text-xs font-medium outline-none focus:border-stone-500 transition-all cursor-pointer">
                                    <option value="">-</option>
                                </select>
                            </div>
                            <div class="space-y-4">
                                <label class="text-[10px] uppercase tracking-[0.2em] text-stone-500 font-bold ml-1">Materia</label>
                                <select id="tema" class="custom-select w-full p-5 rounded-2xl text-xs font-medium outline-none focus:border-stone-500 transition-all cursor-pointer">
                                    <option value="">SELECCIONAR TEMA...</option>
                                    <option value="arrendamiento">ARRENDAMIENTO</option>
                                    <option value="laboral">LABORAL</option>
                                    <option value="mercantil">MERCANTIL</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="hidden"><div id="status-badge"></div><div id="fuente-oficial-display"></div></div>
                    <p class="text-[9px] text-stone-600 tracking-[0.2em] uppercase">Apolo Engine v4.2 // Secure</p>
                </div>

                <div class="flex-1 p-16 flex flex-col justify-between bg-white/20">
                    <div>
                        <div class="mb-14">
                            <h1 class="text-5xl font-classic text-stone-900 mb-5 tracking-tight">Análisis Normativo</h1>
                            <p id="flashText" class="text-stone-400 italic font-light text-xl h-10 transition-all duration-1000">"¿Cómo rescindir un contrato de renta?"</p>
                        </div>

                        <div id="mensajes" class="space-y-8 overflow-y-auto max-h-[450px] pr-6 mb-12">
                            <div class="bg-white/90 p-8 rounded-[35px] border border-stone-100 shadow-sm max-w-3xl">
                                <p class="text-base text-stone-600 leading-relaxed">
                                    Bienvenido al núcleo de procesamiento Apolo. Por favor, especifique los parámetros de jurisdicción en el panel lateral para iniciar el análisis.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-12">
                        <div class="bg-white rounded-[30px] shadow-lg border border-stone-200 p-3 flex items-center transition-all focus-within:ring-8 focus-within:ring-stone-100/50">
                            <input type="text" id="pregunta" class="flex-1 bg-transparent border-none focus:ring-0 px-8 text-stone-800 placeholder-stone-300 text-base" placeholder="Describa su consulta jurídica detalladamente...">
                            <button id="enviar" disabled class="btn-inactive w-16 h-16 rounded-[22px] flex items-center justify-center transition-all shadow-xl active:scale-95">
                                <i class="fas fa-paper-plane text-sm"></i>
                            </button>
                        </div>

                        <div class="flex flex-col md:flex-row items-center justify-between p-10 bg-stone-100/50 rounded-[40px] border border-stone-200/50">
                            <div class="mb-6 md:mb-0">
                                <p class="text-stone-900 text-sm font-bold uppercase tracking-widest mb-1">¿Requiere una consulta especializada?</p>
                                <p class="text-stone-500 text-xs">Acceda a nuestra red de abogados certificados para llevar su caso.</p>
                            </div>
                            <button class="bg-white text-stone-800 border border-stone-200 px-8 py-3.5 rounded-full text-[11px] font-bold uppercase tracking-widest hover:bg-stone-900 hover:text-white transition-all shadow-md">
                                <i class="fas fa-search-location mr-2"></i> Abrir Directorio
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script type="module" src="/src/app.js"></script>

    <script>
        const elPais = document.getElementById('pais');
        const elEstado = document.getElementById('estado');
        const elTema = document.getElementById('tema');
        const elPregunta = document.getElementById('pregunta');
        const elEnviar = document.getElementById('enviar');
        const flashText = document.getElementById('flashText');

        const ejemplos = ["¿Cómo rescindir un contrato de renta?", "¿Liquidación por despido?", "¿Validez de un pagaré?"];
        let i = 0;
        setInterval(() => {
            if(flashText) {
                flashText.style.opacity = 0;
                setTimeout(() => {
                    flashText.innerText = `"${ejemplos[i % ejemplos.length]}"`;
                    flashText.style.opacity = 1;
                    i++;
                }, 500);
            }
        }, 5000);

        function validar() {
            const ok = elPregunta.value.trim().length > 3 && elEstado.value !== "" && elTema.value !== "";
            elEnviar.disabled = !ok;
            if(ok) {
                elEnviar.classList.remove('btn-inactive');
                elEnviar.classList.add('bg-stone-900', 'text-white', 'scale-105');
            } else {
                elEnviar.classList.add('btn-inactive');
                elEnviar.classList.remove('bg-stone-900', 'text-white', 'scale-105');
            }
        }

        elPais.addEventListener('change', () => {
            if(elPais.value === 'mexico') {
                elEstado.innerHTML = `
                    <option value="">SELECCIONAR...</option>
                    <option value="guanajuato">GUANAJUATO</option>
                    <option value="queretaro">QUERÉTARO</option>
                    <option value="jalisco">JALISCO</option>
                    <option value="cdmx">CDMX</option>
                `;
            } else if (elPais.value === 'uruguay') {
                elEstado.innerHTML = '<option value="">SELECCIONAR...</option><option value="montevideo">MONTEVIDEO</option><option value="nacional">NACIONAL</option>';
            } else {
                elEstado.innerHTML = '<option value="">-</option>';
            }
            validar();
        });

        [elPregunta, elEstado, elTema].forEach(el => {
            el.addEventListener('input', validar);
            el.addEventListener('change', validar);
        });
    </script>
</body>
</html>